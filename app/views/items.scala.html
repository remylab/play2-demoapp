@(items: List[Item])

@import helper._
@import layouts._
@import tags._
@import tags_items._

@head = {
	<script type="text/javascript">
	
	$(function(){

		$("#addItem").bind('click',function() {
			
		
			jsRoutes.controllers.Items.add().ajax({
				context: this,
				data:{
					title:$("#title").val(),
					description:$("#description").val()
				},
				success:function(data, textStatus, jqXHR) {
					window.location = window.location;
				},
				error:function() {
					alert("oups..");
				}
			});
			
		});
		
       	
	});
	</script>
}

@layout( "Items" )(head) {

	<h3>Ajouter un item</h3>
	<input type="text" id="title" name="title" /><br/>
	<input type="text" id="description" name="description" /><br/>
	<button id="addItem">go !</button>
	
	<h3>Vos items</h3>
	<ul>
    @for(it <- items ) {
    	@item(it)
    }
	</ul>

}